<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Transform</title>
    <script src="/webjars/htmx.org/1.7.0/dist/htmx.min.js"></script>
    <link rel="stylesheet" href="/webjars/bootstrap/5.1.3/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
<div class="container-fluid bg-secondary">
    <div class="container py-4">
        <div class="p-5 bg-white rounded-3 border">
            <h1>XSLT Hub</h1>
            <p>Use the input controls below to transform XML using XSLT!</p>
        </div>
    </div>
</div>
<div class="container py-4">
    <div class="bg-white rounded-3 border p-5">
        <h2>Inputs</h2>
        <form action="#"
              method="post"
              th:attr="hx-post=@{/transform}"
              th:object="${transformForm}"
              hx-target="#result"
              hx-trigger="load,input delay:500ms"
              hx-swap="outerHTML">
            <div class="mb-3">
                <label for="sourceType" class="form-label">Source Type</label>
                <select th:field="*{sourceType}" class="form-select">
                    <option th:each="sourceTypeOpt : ${T(no.ramsen.xslthub.SourceType).values()}"
                            th:value="${sourceTypeOpt}"
                            th:text="${sourceTypeOpt}"></option>
                </select>
            </div>
            <div class="mb-3">
                <label for="source" class="form-label">Source</label>
                <textarea th:field="*{source}" class="form-control" style="height: 250px"></textarea>
            </div>
            <div class="mb-3">
                <label for="xsl" class="form-label">XSL</label>
                <textarea th:field="*{xsl}" class="form-control" style="height: 250px"></textarea>
            </div>
        </form>
        <h2>Output</h2>
        <pre id="result"><code th:text="${transformForm.result}"></code></pre>
    </div>
</div>
</body>
</html>
